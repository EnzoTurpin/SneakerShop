{# templates/landing/index.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}
    Bienvenue sur SneakerShop
{% endblock %}

{% block body %}
  {# Bandeau de statut de connexion #}
  {% if app.user %}
    <div class="p-4 bg-green-100 text-green-800 text-center">
      Bienvenue, {{ app.user.username is not empty ? app.user.username : app.user.email }} !
    </div>
  {% else %}
    <div class="p-4 bg-gray-100 text-gray-800 text-center">
      Vous n'êtes pas connecté.
    </div>
  {% endif %}

  {# Header avec la navigation principale #}
  <header class="bg-white shadow">
    <nav class="container mx-auto px-4 py-4 flex items-center justify-between">
      <a href="{{ path('landing') }}" class="text-2xl font-bold text-gray-800">
        SneakerShop
      </a>
    </nav>
  </header>

  <main class="container mx-auto px-4 py-8">
    {# PREMIER CARROUSEL : Paires du moment #}
    <section class="mt-12">
      <h2 class="text-2xl font-bold mb-4">Paires du moment</h2>
      <div class="marquee">
        <div class="marquee-content">
          {# -- Première série d’images -- #}
          <img src="{{ asset('images/blktop-rider.jpg') }}" alt="Sneaker 1" class="marquee-img" />
          <img src="{{ asset('images/campus.jpeg') }}" alt="Sneaker 2" class="marquee-img" />
          <img src="{{ asset('images/dunk-low.jpeg') }}" alt="Sneaker 3" class="marquee-img" />

          {# -- Duplication exacte pour la continuité -- #}
          <img src="{{ asset('images/blktop-rider.jpg') }}" alt="Sneaker 1 (bis)" class="marquee-img" />
          <img src="{{ asset('images/campus.jpeg') }}" alt="Sneaker 2 (bis)" class="marquee-img" />
          <img src="{{ asset('images/dunk-low.jpeg') }}" alt="Sneaker 3 (bis)" class="marquee-img" />
        </div>
      </div>
    </section>

    {# DEUXIÈME CARROUSEL : Ventes récentes #}
    <section class="mt-12">
      <h2 class="text-2xl font-bold mb-4">Ventes récentes</h2>
      <div class="marquee">
        <div class="marquee-content">
          <img src="{{ asset('images/sneaker4.jpg') }}" alt="Sneaker 4" class="marquee-img" />
          <img src="{{ asset('images/sneaker5.jpg') }}" alt="Sneaker 5" class="marquee-img" />
          <img src="{{ asset('images/sneaker6.jpg') }}" alt="Sneaker 6" class="marquee-img" />

          <img src="{{ asset('images/sneaker4.jpg') }}" alt="Sneaker 4 (bis)" class="marquee-img" />
          <img src="{{ asset('images/sneaker5.jpg') }}" alt="Sneaker 5 (bis)" class="marquee-img" />
          <img src="{{ asset('images/sneaker6.jpg') }}" alt="Sneaker 6 (bis)" class="marquee-img" />
        </div>
      </div>
    </section>

    {# TROISIÈME CARROUSEL : Sélection de l'équipe #}
    <section class="mt-12 mb-12">
      <h2 class="text-2xl font-bold mb-4">Sélection de l'équipe</h2>
      <div class="marquee">
        <div class="marquee-content">
          <img src="{{ asset('images/sneaker7.jpg') }}" alt="Sneaker 7" class="marquee-img" />
          <img src="{{ asset('images/sneaker8.jpg') }}" alt="Sneaker 8" class="marquee-img" />
          <img src="{{ asset('images/sneaker9.jpg') }}" alt="Sneaker 9" class="marquee-img" />

          <img src="{{ asset('images/sneaker7.jpg') }}" alt="Sneaker 7 (bis)" class="marquee-img" />
          <img src="{{ asset('images/sneaker8.jpg') }}" alt="Sneaker 8 (bis)" class="marquee-img" />
          <img src="{{ asset('images/sneaker9.jpg') }}" alt="Sneaker 9 (bis)" class="marquee-img" />
        </div>
      </div>
    </section>
  </main>
  {# -- Style pour le défilement continu (type "marquee") -- #}
  <style>
    .marquee {
      width: 100%;
      overflow: hidden; /* Cache le débordement */
      position: relative;
    }
    .marquee-content {
      display: flex;
      /* 200% = 2 séries identiques */
      width: 200%;
      animation: marquee 15s linear infinite; /* Ajustez la durée pour la vitesse */
    }
    /* Les images doivent avoir la même largeur pour un rendu propre */
    .marquee-img {
      width: 16rem;  /* w-64 = 16rem en Tailwind */
      height: 16rem; /* h-64 = 16rem */
      object-fit: cover;
      flex: none;    /* Important : évite que les images se redimensionnent dans le flex */
    }
    @keyframes marquee {
      0%   { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }
  </style>
{% endblock %}
